<li id="commute-<%= commute.id %>">
  <% Time.zone = 'Eastern Time (US & Canada)' %>
  <% startLat = commute.startLat.round(5).to_s unless commute.startLat.nil? %>
  <% startLon = commute.startLon.round(5).to_s unless commute.startLon.nil? %>
  <% endLat = commute.endLat.round(5).to_s unless commute.endLat.nil? %>
  <% endLon = commute.endLon.round(5).to_s unless commute.endLon.nil? %>
  <span class="id"><strong>Commute #<%= commute.id %></strong></span>
  <br>
  <span class="times">Times: <%= commute.starttime.in_time_zone.strftime("%H:%M") %> ETâ€”<%= commute.endtime.in_time_zone.strftime("%H:%M") + ' ET' unless commute.endtime.nil? %></span>
  <br>
  <% unless commute.endtime.nil? %>
    <span class="duration"><%= 'Duration: ' + ((commute.endtime - commute.starttime) / 1.minute).round.to_s + ' minutes' %></span>
    <br>
  <% end %>
  <% unless commute.startLat.nil? || commute.startLon.nil? %>
    <span class="startLocation">Begin at: <%= link_to startLat + ' ' + startLon, "https://maps.google.com/maps?=12&t=m&q=loc:" + startLat + '+' + startLon %></span>
    <br>
  <% end %>
  <% unless commute.endLat.nil? || commute.endLon.nil? %>
    <span class="endLocation">End at: <%= link_to endLat + ' ' + endLon, "https://maps.google.com/maps?=12&t=m&q=loc:" + endLat + '+' + endLon %></span>
    <br>
  <% end %>
  <% unless commute.startLat.nil? || commute.startLon.nil? || commute.endLat.nil? || commute.endLon.nil? %>
    <% distanceTraveled = Geokit::LatLng.new(startLat, startLon).distance_from(Geokit::LatLng.new(endLat, endLon)) %>
    <span class="distanceTraveled">Distance traveled: <%= distanceTraveled.round(2) %> miles</span>
    <br>
    <span class="speed">Speed: <%= (distanceTraveled / ((commute.endtime - commute.starttime) / 1.hour)).round(2) %> mph</span>
  <% end %>
  <span class="timestamp">
    <% if commute.endtime.nil? %>
      Started commuting <%= time_ago_in_words(commute.starttime) %> ago.
    <% else %>
      Commuted <%= time_ago_in_words(commute.endtime) %> ago.
    <% end %>
  </span>
</li>